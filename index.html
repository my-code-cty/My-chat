<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>My Chat</title>
</head>
<body>
  <h2>ðŸ’¬ Web Chat Firebase</h2>
  <input id="msg" placeholder="Nháº­p tin nháº¯n">
  <button onclick="send()">Gá»­i</button>
  <ul id="list"></ul>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
    import { getDatabase, ref, push, onChildAdded }
      from "https://www.gstatic.com/firebasejs/12.6.0/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyCKvKSgfJOilIIsnKI0RWVokXsV37li-Qw",
      authDomain: "my-chat-96845.firebaseapp.com",
      databaseURL: "https://my-chat-96845-default-rtdb.firebaseio.com",
      projectId: "my-chat-96845",
      storageBucket: "my-chat-96845.appspot.com",
      messagingSenderId: "546878639396",
      appId: "1:546878639396:web:3152a78fc0c455249677b1"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);
    const chatRef = ref(db, "messages");

    window.send = () => {
      const msg = document.getElementById("msg").value;
      if (msg) push(chatRef, msg);
      document.getElementById("msg").value = "";
    };

    onChildAdded(chatRef, snap => {
      const li = document.createElement("li");
      li.textContent = snap.val();
      document.getElementById("list").appendChild(li);
    });
  </script>
</body>
</html>
