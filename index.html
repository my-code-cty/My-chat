<!DOCTYPE html><html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>üí¨ Chat Online</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>  <style>
    body{font-family:Arial;background:linear-gradient(135deg,#667eea,#764ba2);margin:0;height:100vh;display:flex;align-items:center;justify-content:center}
    .card{background:#fff;width:95%;max-width:420px;border-radius:16px;box-shadow:0 10px 25px rgba(0,0,0,.25);padding:16px;display:flex;flex-direction:column}
    h2{text-align:center;margin:8px 0}
    #login{padding:10px;border:none;border-radius:8px;background:#4285F4;color:#fff;font-size:16px;cursor:pointer}
    #chat{display:none;flex:1;flex-direction:column}
    #messages{flex:1;overflow-y:auto;list-style:none;padding:0;margin:10px 0}
    #messages li{margin:6px 0;padding:8px 10px;border-radius:8px;background:#f1f1f1;font-size:14px}
    .me{background:#d1e7ff;align-self:flex-end}
    .input{display:flex;gap:6px}
    input{flex:1;padding:8px;border-radius:8px;border:1px solid #ccc}
    button.send{border:none;border-radius:8px;background:#667eea;color:white;padding:8px 14px}
    .user{font-size:13px;color:#555;text-align:center}
  </style></head>
<body>
  <div class="card">
    <h2>üí¨ Web Chat</h2>
    <button id="login">ƒêƒÉng nh·∫≠p b·∫±ng Google</button><div id="chat">
  <div class="user" id="user"></div>
  <ul id="messages"></ul>
  <div class="input">
    <input id="text" placeholder="Nh·∫≠p tin nh·∫Øn..." />
    <button class="send" onclick="send()">G·ª≠i</button>
  </div>
</div>

  </div><script>
  // üî• D√ÅN C·∫§U H√åNH FIREBASE C·ª¶A B·∫†N V√ÄO ƒê√ÇY
  const firebaseConfig = { 
  apiKey: "AIzaSy...",
  authDomain: "my-chat-d44bf.firebaseapp.com",
  databaseURL: "https://my-chat-d44bf-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId: "my-chat-d44bf",
  storageBucket: "my-chat-d44bf.appspot.com",
  messagingSenderId: "560527646922",
  appId: "1:560527646922:web:c5cd1ee9f7538b43019433"
    
  };

  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  const db = firebase.firestore();

  const loginBtn = document.getElementById('login');
  const chatBox = document.getElementById('chat');
  const userDiv = document.getElementById('user');
  const msgList = document.getElementById('messages');
  let currentUser;

  loginBtn.onclick = () => {
    const provider = new firebase.auth.GoogleAuthProvider();
    auth.signInWithPopup(provider);
  };

  auth.onAuthStateChanged(user => {
    if(user){
      currentUser = user;
      loginBtn.style.display='none';
      chatBox.style.display='flex';
      userDiv.innerText = `Xin ch√†o ${user.displayName}`;
      loadMessages();
    }
  });

  function send(){
    const text = document.getElementById('text').value;
    if(!text) return;
    db.collection('messages').add({
      uid: currentUser.uid,
      name: currentUser.displayName,
      text: text,
      time: firebase.firestore.FieldValue.serverTimestamp()
    });
    document.getElementById('text').value='';
  }

  function loadMessages(){
    db.collection('messages').orderBy('time').limit(50)
      .onSnapshot(snap=>{
        msgList.innerHTML='';
        snap.forEach(doc=>{
          const m = doc.data();
          const li = document.createElement('li');
          li.innerText = m.name + ': ' + m.text;
          if(m.uid === currentUser.uid) li.classList.add('me');
          msgList.appendChild(li);
        });
      });
  }
</script></body>
</html>
